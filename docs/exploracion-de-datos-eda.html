<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Exploracion de datos: EDA | Analisis de Dow Jone Index para materia Analisis de series de tiempo</title>
  <meta name="description" content="2 Exploracion de datos: EDA | Analisis de Dow Jone Index para materia Analisis de series de tiempo" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Exploracion de datos: EDA | Analisis de Dow Jone Index para materia Analisis de series de tiempo" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Exploracion de datos: EDA | Analisis de Dow Jone Index para materia Analisis de series de tiempo" />
  
  
  

<meta name="author" content="Paula López" />


<meta name="date" content="2024-05-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="creación-de-serie-temporal.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="exploracion-de-datos-eda.html"><a href="exploracion-de-datos-eda.html"><i class="fa fa-check"></i><b>2</b> Exploracion de datos: EDA</a></li>
<li class="chapter" data-level="3" data-path="creación-de-serie-temporal.html"><a href="creación-de-serie-temporal.html"><i class="fa fa-check"></i><b>3</b> Creación de serie temporal</a>
<ul>
<li class="chapter" data-level="3.1" data-path="creación-de-serie-temporal.html"><a href="creación-de-serie-temporal.html#determinar-la-frecuencia-de-la-serie-temporal"><i class="fa fa-check"></i><b>3.1</b> Determinar la frecuencia de la serie temporal</a></li>
<li class="chapter" data-level="3.2" data-path="creación-de-serie-temporal.html"><a href="creación-de-serie-temporal.html#crear-la-serie-temporal-con-frecuencia-semanal"><i class="fa fa-check"></i><b>3.2</b> Crear la serie temporal con frecuencia semanal</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="estructura-de-los-datos-en-series-de-tiempo.html"><a href="estructura-de-los-datos-en-series-de-tiempo.html"><i class="fa fa-check"></i><b>4</b> Estructura de los datos en series de tiempo</a>
<ul>
<li class="chapter" data-level="4.1" data-path="estructura-de-los-datos-en-series-de-tiempo.html"><a href="estructura-de-los-datos-en-series-de-tiempo.html#promedio-movil"><i class="fa fa-check"></i><b>4.1</b> Promedio movil</a></li>
<li class="chapter" data-level="4.2" data-path="estructura-de-los-datos-en-series-de-tiempo.html"><a href="estructura-de-los-datos-en-series-de-tiempo.html#rezagos"><i class="fa fa-check"></i><b>4.2</b> Rezagos</a></li>
<li class="chapter" data-level="4.3" data-path="estructura-de-los-datos-en-series-de-tiempo.html"><a href="estructura-de-los-datos-en-series-de-tiempo.html#estacionalidad"><i class="fa fa-check"></i><b>4.3</b> Estacionalidad</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="preprocesamiento.html"><a href="preprocesamiento.html"><i class="fa fa-check"></i><b>5</b> Preprocesamiento</a>
<ul>
<li class="chapter" data-level="5.1" data-path="preprocesamiento.html"><a href="preprocesamiento.html#estacionariedad"><i class="fa fa-check"></i><b>5.1</b> Estacionariedad</a></li>
<li class="chapter" data-level="5.2" data-path="preprocesamiento.html"><a href="preprocesamiento.html#diferenciación"><i class="fa fa-check"></i><b>5.2</b> Diferenciación</a></li>
<li class="chapter" data-level="5.3" data-path="preprocesamiento.html"><a href="preprocesamiento.html#transformación"><i class="fa fa-check"></i><b>5.3</b> Transformación</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="modelo-arima.html"><a href="modelo-arima.html"><i class="fa fa-check"></i><b>6</b> Modelo ARIMA</a>
<ul>
<li class="chapter" data-level="6.1" data-path="modelo-arima.html"><a href="modelo-arima.html#identificación-del-modelo-arima"><i class="fa fa-check"></i><b>6.1</b> Identificación del modelo ARIMA</a></li>
<li class="chapter" data-level="6.2" data-path="modelo-arima.html"><a href="modelo-arima.html#ajuste-del-modelo-arima"><i class="fa fa-check"></i><b>6.2</b> Ajuste del modelo ARIMA</a></li>
<li class="chapter" data-level="6.3" data-path="modelo-arima.html"><a href="modelo-arima.html#diagnóstico-del-modelo-arima"><i class="fa fa-check"></i><b>6.3</b> Diagnóstico del modelo ARIMA</a></li>
<li class="chapter" data-level="6.4" data-path="modelo-arima.html"><a href="modelo-arima.html#pronostico-del-modelo-arima"><i class="fa fa-check"></i><b>6.4</b> Pronostico del Modelo ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusiones.html"><a href="conclusiones.html"><i class="fa fa-check"></i><b>7</b> Conclusiones</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusiones.html"><a href="conclusiones.html#preprocesamiento-de-datos"><i class="fa fa-check"></i><b>7.1</b> Preprocesamiento de datos</a></li>
<li class="chapter" data-level="7.2" data-path="conclusiones.html"><a href="conclusiones.html#creacion-de-serie-temporal"><i class="fa fa-check"></i><b>7.2</b> Creacion de serie temporal</a></li>
<li class="chapter" data-level="7.3" data-path="conclusiones.html"><a href="conclusiones.html#estructura-de-datos-en-series-temporales"><i class="fa fa-check"></i><b>7.3</b> Estructura de datos en series temporales</a></li>
<li class="chapter" data-level="7.4" data-path="conclusiones.html"><a href="conclusiones.html#análisis-de-modelo-arima"><i class="fa fa-check"></i><b>7.4</b> Análisis de modelo ARIMA</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analisis de Dow Jone Index para materia Analisis de series de tiempo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploracion-de-datos-eda" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Exploracion de datos: EDA<a href="exploracion-de-datos-eda.html#exploracion-de-datos-eda" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Iniciamos la actividad con cargue de datos, limpieza y comprensión para
saber cómo abordar el análisis.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="exploracion-de-datos-eda.html#cb1-1" tabindex="-1"></a><span class="co">#cargue del data set</span></span>
<span id="cb1-2"><a href="exploracion-de-datos-eda.html#cb1-2" tabindex="-1"></a>folder_path <span class="ot">&lt;-</span> <span class="st">&quot;C:/Users/e184385/OneDrive - WFT/Desktop/Msc/Semestre 2/Analisis de series de tiempo/DJI&quot;</span></span>
<span id="cb1-3"><a href="exploracion-de-datos-eda.html#cb1-3" tabindex="-1"></a>file_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(folder_path, <span class="st">&quot;dow_jones_index.data&quot;</span>)</span>
<span id="cb1-4"><a href="exploracion-de-datos-eda.html#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="exploracion-de-datos-eda.html#cb1-5" tabindex="-1"></a><span class="co"># Leer el archivo CSV</span></span>
<span id="cb1-6"><a href="exploracion-de-datos-eda.html#cb1-6" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>)  <span class="co"># `sep` para indicar que es CSV</span></span></code></pre></div>
<p>Manejo de columnas con caracteres especiales: el archivo tiene columnas
con valores monetarios (como $15.82). Para evitar problemas al trabajar
con estos datos, se elimina el símbolo $ y se convierte los valores a
numéricos:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="exploracion-de-datos-eda.html#cb2-1" tabindex="-1"></a><span class="co"># Convertir columnas de caracteres a numéricos</span></span>
<span id="cb2-2"><a href="exploracion-de-datos-eda.html#cb2-2" tabindex="-1"></a>numeric_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;open&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;close&quot;</span>, <span class="st">&quot;next_weeks_open&quot;</span>, <span class="st">&quot;next_weeks_close&quot;</span>)  <span class="co"># Las columnas que contienen precios</span></span>
<span id="cb2-3"><a href="exploracion-de-datos-eda.html#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="exploracion-de-datos-eda.html#cb2-4" tabindex="-1"></a><span class="co"># Remover el símbolo `$` y convertir a numérico</span></span>
<span id="cb2-5"><a href="exploracion-de-datos-eda.html#cb2-5" tabindex="-1"></a><span class="cf">for</span> (col <span class="cf">in</span> numeric_columns) {</span>
<span id="cb2-6"><a href="exploracion-de-datos-eda.html#cb2-6" tabindex="-1"></a>  my_data[[col]] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">$&quot;</span>, <span class="st">&quot;&quot;</span>, my_data[[col]]))</span>
<span id="cb2-7"><a href="exploracion-de-datos-eda.html#cb2-7" tabindex="-1"></a>}</span></code></pre></div>
<p>Verificación de contenido: después de cargar el archivo y convertir las
columnas necesarias, se verifica el contenido para entender la base de
datos</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="exploracion-de-datos-eda.html#cb3-1" tabindex="-1"></a><span class="co"># Mostrar la estructura del data frame</span></span>
<span id="cb3-2"><a href="exploracion-de-datos-eda.html#cb3-2" tabindex="-1"></a><span class="fu">str</span>(my_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    750 obs. of  16 variables:
##  $ quarter                           : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ stock                             : chr  &quot;AA&quot; &quot;AA&quot; &quot;AA&quot; &quot;AA&quot; ...
##  $ date                              : chr  &quot;1/7/2011&quot; &quot;1/14/2011&quot; &quot;1/21/2011&quot; &quot;1/28/2011&quot; ...
##  $ open                              : num  15.8 16.7 16.2 15.9 16.2 ...
##  $ high                              : num  16.7 16.7 16.4 16.6 17.4 ...
##  $ low                               : num  15.8 15.6 15.6 15.8 16.2 ...
##  $ close                             : num  16.4 16 15.8 16.1 17.1 ...
##  $ volume                            : int  239655616 242963398 138428495 151379173 154387761 114691279 80023895 132981863 109493077 114332562 ...
##  $ percent_change_price              : num  3.79 -4.43 -2.47 1.64 5.93 ...
##  $ percent_change_volume_over_last_wk: num  NA 1.38 -43.02 9.36 1.99 ...
##  $ previous_weeks_volume             : int  NA 239655616 242963398 138428495 151379173 154387761 114691279 80023895 132981863 109493077 ...
##  $ next_weeks_open                   : num  16.7 16.2 15.9 16.2 17.3 ...
##  $ next_weeks_close                  : num  16 15.8 16.1 17.1 17.4 ...
##  $ percent_change_next_weeks_price   : num  -4.428 -2.471 1.638 5.933 0.231 ...
##  $ days_to_next_dividend             : int  26 19 12 5 97 90 83 76 69 62 ...
##  $ percent_return_next_dividend      : num  0.183 0.188 0.19 0.186 0.175 ...</code></pre>
<p>Durante el análisis se va a revisar la variación de diferentes acciones
(stocks) en el tiempo, revisamos ahora cuantas stocks tenemos en la base
de datos</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="exploracion-de-datos-eda.html#cb5-1" tabindex="-1"></a><span class="co"># Ver todos los valores únicos en la columna &#39;stock&#39;</span></span>
<span id="cb5-2"><a href="exploracion-de-datos-eda.html#cb5-2" tabindex="-1"></a><span class="fu">unique</span>(my_data<span class="sc">$</span>stock)  </span></code></pre></div>
<pre><code>##  [1] &quot;AA&quot;   &quot;AXP&quot;  &quot;BA&quot;   &quot;BAC&quot;  &quot;CAT&quot;  &quot;CSCO&quot; &quot;CVX&quot;  &quot;DD&quot;   &quot;DIS&quot;  &quot;GE&quot;   &quot;HD&quot;   &quot;HPQ&quot; 
## [13] &quot;IBM&quot;  &quot;INTC&quot; &quot;JNJ&quot;  &quot;JPM&quot;  &quot;KRFT&quot; &quot;KO&quot;   &quot;MCD&quot;  &quot;MMM&quot;  &quot;MRK&quot;  &quot;MSFT&quot; &quot;PFE&quot;  &quot;PG&quot;  
## [25] &quot;T&quot;    &quot;TRV&quot;  &quot;UTX&quot;  &quot;VZ&quot;   &quot;WMT&quot;  &quot;XOM&quot;</code></pre>
<p>Para el análisis de serie de tiempo es importante conocer el inicio y
final del conjunto de datos.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="exploracion-de-datos-eda.html#cb7-1" tabindex="-1"></a><span class="co"># Obtener la primera y ultima fecha de data frame</span></span>
<span id="cb7-2"><a href="exploracion-de-datos-eda.html#cb7-2" tabindex="-1"></a>first_date <span class="ot">&lt;-</span> <span class="fu">min</span>(my_data<span class="sc">$</span>date, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># `na.rm = TRUE` para ignorar NA</span></span>
<span id="cb7-3"><a href="exploracion-de-datos-eda.html#cb7-3" tabindex="-1"></a>last_date <span class="ot">&lt;-</span> <span class="fu">max</span>(my_data<span class="sc">$</span>date, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-4"><a href="exploracion-de-datos-eda.html#cb7-4" tabindex="-1"></a><span class="fu">print</span>(first_date)  <span class="co"># Primera fecha</span></span></code></pre></div>
<pre><code>## [1] &quot;1/14/2011&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="exploracion-de-datos-eda.html#cb9-1" tabindex="-1"></a><span class="fu">print</span>(last_date)   <span class="co"># Última fecha</span></span></code></pre></div>
<pre><code>## [1] &quot;6/3/2011&quot;</code></pre>
<p>Procedemos a identificar los datos faltantes para cada columna del data
set</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="exploracion-de-datos-eda.html#cb11-1" tabindex="-1"></a><span class="co"># Contar el número de NA por cada columna</span></span>
<span id="cb11-2"><a href="exploracion-de-datos-eda.html#cb11-2" tabindex="-1"></a>na_count <span class="ot">&lt;-</span> <span class="fu">sapply</span>(my_data, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span>
<span id="cb11-3"><a href="exploracion-de-datos-eda.html#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="exploracion-de-datos-eda.html#cb11-4" tabindex="-1"></a><span class="fu">print</span>(na_count)  <span class="co"># Muestra el número de NA en cada variable</span></span></code></pre></div>
<pre><code>##                            quarter                              stock 
##                                  0                                  0 
##                               date                               open 
##                                  0                                  0 
##                               high                                low 
##                                  0                                  0 
##                              close                             volume 
##                                  0                                  0 
##               percent_change_price percent_change_volume_over_last_wk 
##                                  0                                 30 
##              previous_weeks_volume                    next_weeks_open 
##                                 30                                  0 
##                   next_weeks_close    percent_change_next_weeks_price 
##                                  0                                  0 
##              days_to_next_dividend       percent_return_next_dividend 
##                                  0                                  0</code></pre>
<p>La base de datos tiene datos faltantes, se procede a imputarlos.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="exploracion-de-datos-eda.html#cb13-1" tabindex="-1"></a><span class="co"># Imputar valores faltantes con la media de la columna</span></span>
<span id="cb13-2"><a href="exploracion-de-datos-eda.html#cb13-2" tabindex="-1"></a>my_data<span class="sc">$</span>percent_change_volume_over_last_wk[<span class="fu">is.na</span>(my_data<span class="sc">$</span>percent_change_volume_over_last_wk)] <span class="ot">&lt;-</span> </span>
<span id="cb13-3"><a href="exploracion-de-datos-eda.html#cb13-3" tabindex="-1"></a>  <span class="fu">mean</span>(my_data<span class="sc">$</span>percent_change_volume_over_last_wk, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-4"><a href="exploracion-de-datos-eda.html#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="exploracion-de-datos-eda.html#cb13-5" tabindex="-1"></a><span class="co"># Imputar valores faltantes con la mediana de la columna</span></span>
<span id="cb13-6"><a href="exploracion-de-datos-eda.html#cb13-6" tabindex="-1"></a>my_data<span class="sc">$</span>previous_weeks_volume[<span class="fu">is.na</span>(my_data<span class="sc">$</span>previous_weeks_volume)] <span class="ot">&lt;-</span> </span>
<span id="cb13-7"><a href="exploracion-de-datos-eda.html#cb13-7" tabindex="-1"></a>  <span class="fu">median</span>(my_data<span class="sc">$</span>previous_weeks_volume, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="exploracion-de-datos-eda.html#cb14-1" tabindex="-1"></a><span class="co"># Contar el número de NA por columna</span></span>
<span id="cb14-2"><a href="exploracion-de-datos-eda.html#cb14-2" tabindex="-1"></a>na_count <span class="ot">&lt;-</span> <span class="fu">sapply</span>(my_data, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span>
<span id="cb14-3"><a href="exploracion-de-datos-eda.html#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="exploracion-de-datos-eda.html#cb14-4" tabindex="-1"></a><span class="fu">print</span>(na_count)  <span class="co"># Muestra el número de NA en cada variable</span></span></code></pre></div>
<pre><code>##                            quarter                              stock 
##                                  0                                  0 
##                               date                               open 
##                                  0                                  0 
##                               high                                low 
##                                  0                                  0 
##                              close                             volume 
##                                  0                                  0 
##               percent_change_price percent_change_volume_over_last_wk 
##                                  0                                  0 
##              previous_weeks_volume                    next_weeks_open 
##                                  0                                  0 
##                   next_weeks_close    percent_change_next_weeks_price 
##                                  0                                  0 
##              days_to_next_dividend       percent_return_next_dividend 
##                                  0                                  0</code></pre>
<p>Orden de data frame: Se convierte la columan Date a formato Date para
facilitar analisis en R y se ordenan datos por fecha.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="exploracion-de-datos-eda.html#cb16-1" tabindex="-1"></a><span class="co"># Convertir la columna &#39;date&#39; a formato Date</span></span>
<span id="cb16-2"><a href="exploracion-de-datos-eda.html#cb16-2" tabindex="-1"></a>my_data<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(my_data<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">&quot;%m/%d/%Y&quot;</span>)</span>
<span id="cb16-3"><a href="exploracion-de-datos-eda.html#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="exploracion-de-datos-eda.html#cb16-4" tabindex="-1"></a><span class="co"># ordenar por fecha</span></span>
<span id="cb16-5"><a href="exploracion-de-datos-eda.html#cb16-5" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> my_data[<span class="fu">order</span>(my_data<span class="sc">$</span>date), ]  </span></code></pre></div>
<p>Visualizacion de datos</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="exploracion-de-datos-eda.html#cb17-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb17-2"><a href="exploracion-de-datos-eda.html#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="exploracion-de-datos-eda.html#cb17-3" tabindex="-1"></a><span class="fu">ggplot</span>(my_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.Date</span>(date, <span class="st">&quot;%m/%d/%Y&quot;</span>), <span class="at">y =</span> close, <span class="at">color =</span> stock)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="exploracion-de-datos-eda.html#cb17-4" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span>  <span class="co"># Gráfico de línea</span></span>
<span id="cb17-5"><a href="exploracion-de-datos-eda.html#cb17-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Precio de Cierre por Acción a lo Largo del Tiempo&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Precio de Cierre&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-6"><a href="exploracion-de-datos-eda.html#cb17-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-7"><a href="exploracion-de-datos-eda.html#cb17-7" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb17-8"><a href="exploracion-de-datos-eda.html#cb17-8" tabindex="-1"></a>    <span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,  <span class="co"># Etiquetas cada mes</span></span>
<span id="cb17-9"><a href="exploracion-de-datos-eda.html#cb17-9" tabindex="-1"></a>    <span class="at">date_labels =</span> <span class="st">&quot;%B&quot;</span>  <span class="co"># Mostrar solo el nombre del mes</span></span>
<span id="cb17-10"><a href="exploracion-de-datos-eda.html#cb17-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-11"><a href="exploracion-de-datos-eda.html#cb17-11" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>))  <span class="co"># Inclinación de etiquetas</span></span></code></pre></div>
<p><img src="YAML_tarea-DJI_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="exploracion-de-datos-eda.html#cb18-1" tabindex="-1"></a><span class="co"># Gráfico de facetas por acción</span></span>
<span id="cb18-2"><a href="exploracion-de-datos-eda.html#cb18-2" tabindex="-1"></a><span class="fu">ggplot</span>(my_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.Date</span>(date, <span class="st">&quot;%m/%d/%Y&quot;</span>), <span class="at">y =</span> close)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="exploracion-de-datos-eda.html#cb18-3" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span>  <span class="co"># Gráfico de línea</span></span>
<span id="cb18-4"><a href="exploracion-de-datos-eda.html#cb18-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Precio de Cierre por Acción a lo Largo del Tiempo&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Precio de Cierre&quot;</span>) <span class="sc">+</span></span>
<span id="cb18-5"><a href="exploracion-de-datos-eda.html#cb18-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-6"><a href="exploracion-de-datos-eda.html#cb18-6" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> stock)  <span class="co"># Facetas para cada acción</span></span></code></pre></div>
<p><img src="YAML_tarea-DJI_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>La base de datos contiene 30 stock, se decie de crear una base de datos
que contenga solo una stock ““IBM” y realizar en adelante todos los
analisis sobre esta accion.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="exploracion-de-datos-eda.html#cb19-1" tabindex="-1"></a><span class="co"># Crear un nuevo data frame con solo IBM</span></span>
<span id="cb19-2"><a href="exploracion-de-datos-eda.html#cb19-2" tabindex="-1"></a>data_ibm <span class="ot">&lt;-</span> <span class="fu">subset</span>(my_data, stock <span class="sc">==</span> <span class="st">&quot;IBM&quot;</span>)</span>
<span id="cb19-3"><a href="exploracion-de-datos-eda.html#cb19-3" tabindex="-1"></a></span>
<span id="cb19-4"><a href="exploracion-de-datos-eda.html#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="exploracion-de-datos-eda.html#cb19-5" tabindex="-1"></a><span class="co"># Verificar el nuevo data frame</span></span>
<span id="cb19-6"><a href="exploracion-de-datos-eda.html#cb19-6" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">unique</span>(data_ibm<span class="sc">$</span>stock))  </span></code></pre></div>
<pre><code>## [1] &quot;IBM&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="exploracion-de-datos-eda.html#cb21-1" tabindex="-1"></a><span class="fu">str</span>(data_ibm)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    25 obs. of  16 variables:
##  $ quarter                           : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ stock                             : chr  &quot;IBM&quot; &quot;IBM&quot; &quot;IBM&quot; &quot;IBM&quot; ...
##  $ date                              : Date, format: &quot;2011-01-07&quot; &quot;2011-01-14&quot; &quot;2011-01-21&quot; ...
##  $ open                              : num  147 147 150 155 159 ...
##  $ high                              : num  149 150 157 164 164 ...
##  $ low                               : num  147 146 149 155 159 ...
##  $ close                             : num  148 150 156 159 164 ...
##  $ volume                            : int  23492843 15335348 35770931 32510483 25377163 26106753 14352613 21443811 21549118 31119857 ...
##  $ percent_change_price              : num  0.489 2.041 3.791 2.439 3.028 ...
##  $ percent_change_volume_over_last_wk: num  5.59 -34.72 133.26 -9.11 -21.94 ...
##  $ previous_weeks_volume             : num  52945558 23492843 15335348 35770931 32510483 ...
##  $ next_weeks_open                   : num  147 150 155 159 164 ...
##  $ next_weeks_close                  : num  150 156 159 164 164 ...
##  $ percent_change_next_weeks_price   : num  2.04 3.79 2.44 3.03 -0.14 ...
##  $ days_to_next_dividend             : int  32 25 18 11 4 84 77 70 63 56 ...
##  $ percent_return_next_dividend      : num  0.439 0.433 0.418 0.408 0.396 ...</code></pre>
<p>Gráfico de volumen de acción IBM: El volumen es un indicador clave en el
análisis de acciones, ya que muestra la cantidad de acciones negociadas
durante un período. se grafica el volumen para ver cómo varía con el
tiempo:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="exploracion-de-datos-eda.html#cb23-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb23-2"><a href="exploracion-de-datos-eda.html#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="exploracion-de-datos-eda.html#cb23-3" tabindex="-1"></a><span class="co"># Gráfico de volumen por acción a lo largo del tiempo</span></span>
<span id="cb23-4"><a href="exploracion-de-datos-eda.html#cb23-4" tabindex="-1"></a><span class="fu">ggplot</span>(data_ibm, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.Date</span>(date, <span class="st">&quot;%m/%d/%Y&quot;</span>), <span class="at">y =</span> volume, <span class="at">color =</span> stock)) <span class="sc">+</span></span>
<span id="cb23-5"><a href="exploracion-de-datos-eda.html#cb23-5" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span>  <span class="co"># Gráfico de línea para volumen</span></span>
<span id="cb23-6"><a href="exploracion-de-datos-eda.html#cb23-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Volumen de Acciones por Acción a lo Largo del Tiempo&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Volumen&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="exploracion-de-datos-eda.html#cb23-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-8"><a href="exploracion-de-datos-eda.html#cb23-8" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%B&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-9"><a href="exploracion-de-datos-eda.html#cb23-9" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="YAML_tarea-DJI_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Gráfico de cambios porcentuales de recio La
variable:percent_change_price muestra el cambio porcentual en el precio.
Graficar esta variable puede proporcionar información sobre la
volatilidad y tendencias de los precios de la accion</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="exploracion-de-datos-eda.html#cb24-1" tabindex="-1"></a><span class="co"># Gráfico de cambio porcentual de precio por acción</span></span>
<span id="cb24-2"><a href="exploracion-de-datos-eda.html#cb24-2" tabindex="-1"></a><span class="fu">ggplot</span>(data_ibm, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.Date</span>(date, <span class="st">&quot;%m/%d/%Y&quot;</span>), <span class="at">y =</span> percent_change_price, <span class="at">color =</span> stock)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="exploracion-de-datos-eda.html#cb24-3" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span>  <span class="co"># Gráfico de línea para cambios porcentuales</span></span>
<span id="cb24-4"><a href="exploracion-de-datos-eda.html#cb24-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cambio Porcentual del Precio por Acción a lo Largo del Tiempo&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Cambio Porcentual&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="exploracion-de-datos-eda.html#cb24-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-6"><a href="exploracion-de-datos-eda.html#cb24-6" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%B&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="exploracion-de-datos-eda.html#cb24-7" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="YAML_tarea-DJI_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="creación-de-serie-temporal.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
